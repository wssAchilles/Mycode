/**
 * Telegram Clone - Design Tokens v3.0
 * Telegram Web K/Z 风格 - Premium Dark Theme
 * 
 * 核心变革：
 * - 放弃纯黑，采用 Telegram Premium Dark Grey
 * - 简化玻璃效果，保留克制的毛玻璃
 * - System UI 字体优先
 */

/* ========================================
   1. 核心色彩系统 (Core Colors)
   ======================================== */
:root {
    /* === Telegram 品牌色 === */
    --tg-blue: #3390ec;
    /* Telegram 经典蓝 */
    --tg-blue-light: #5eb5f7;
    /* 悬停态 */
    --tg-blue-dark: #2b7bc9;
    /* 按下态 */
    --tg-blue-bg: rgba(51, 144, 236, 0.12);
    /* 选中背景 */

    /* Premium 紫色 (可选主题) */
    --tg-purple: #8774e1;
    --tg-purple-light: #a699e8;
    --tg-purple-bg: rgba(135, 116, 225, 0.12);

    /* === 功能色 === */
    --tg-green: #4fae4e;
    /* 在线/成功 */
    --tg-red: #e53935;
    /* 错误/删除 */
    --tg-orange: #f5a623;
    /* 警告 */
    --tg-cyan: #21c2d1;
    /* 信息 */

    /* === 深色模式背景 (Telegram Dark) === */
    --tg-bg-primary: #212121;
    /* 主背景 - 深灰而非纯黑 */
    --tg-bg-secondary: #181818;
    /* 次级背景 - 聊天区域 */
    --tg-bg-tertiary: #2b2b2b;
    /* 三级背景 - 输入框/卡片 */
    --tg-bg-surface: #1c1c1d;
    /* 表面层 - 侧边栏 */
    --tg-bg-elevated: #303030;
    /* 抬升层 - 悬浮/弹窗 */
    --tg-bg-hover: rgba(255, 255, 255, 0.05);
    --tg-bg-active: rgba(255, 255, 255, 0.08);
    --tg-bg-selected: rgba(51, 144, 236, 0.15);

    /* === 文字颜色 === */
    --tg-text-primary: #ffffff;
    --tg-text-secondary: #aaaaaa;
    --tg-text-muted: #707579;
    --tg-text-link: var(--tg-blue);

    /* === 边框/分割线 === */
    --tg-border: rgba(255, 255, 255, 0.08);
    --tg-border-light: rgba(255, 255, 255, 0.12);
    --tg-separator: rgba(0, 0, 0, 0.28);

    /* === 消息气泡 === */
    --tg-bubble-outgoing: #766ac8;
    /* 自己的消息 - 紫色调 */
    --tg-bubble-outgoing-text: #ffffff;
    --tg-bubble-incoming: #2b2b2b;
    /* 对方的消息 */
    --tg-bubble-incoming-text: #ffffff;

    /* === 兼容旧变量 (逐步废弃) === */
    --color-primary: var(--tg-blue);
    --color-primary-light: var(--tg-blue-light);
    --color-bg-primary: var(--tg-bg-primary);
    --color-bg-secondary: var(--tg-bg-secondary);
    --color-text-primary: var(--tg-text-primary);
    --color-text-secondary: var(--tg-text-secondary);
    --color-text-muted: var(--tg-text-muted);
    --color-border: var(--tg-border);
    --color-success: var(--tg-green);
    --color-error: var(--tg-red);

    /* ========================================
       2. 字体系统 (Typography)
       ======================================== */

    /* System UI 优先 - 原生质感 */
    --font-family: system-ui, -apple-system, BlinkMacSystemFont,
        'Segoe UI', Roboto, 'Helvetica Neue', Arial,
        'Noto Sans', sans-serif;
    --font-mono: ui-monospace, 'SF Mono', 'Cascadia Code',
        'Roboto Mono', Menlo, Consolas, monospace;

    /* 字号 - 适度放大提升可读性 */
    --text-xs: 0.75rem;
    /* 12px */
    --text-sm: 0.8125rem;
    /* 13px */
    --text-base: 0.9375rem;
    /* 15px - 正文基准 */
    --text-lg: 1rem;
    /* 16px */
    --text-xl: 1.125rem;
    /* 18px */
    --text-2xl: 1.375rem;
    /* 22px */
    --text-3xl: 1.75rem;
    /* 28px */

    /* 行高 */
    --leading-tight: 1.25;
    --leading-normal: 1.5;
    --leading-relaxed: 1.625;

    /* 字重 */
    --font-normal: 400;
    --font-medium: 500;
    --font-semibold: 600;
    --font-bold: 700;

    /* ========================================
       3. 间距系统 (Spacing)
       ======================================== */
    --space-1: 4px;
    --space-2: 8px;
    --space-3: 12px;
    --space-4: 16px;
    --space-5: 20px;
    --space-6: 24px;
    --space-8: 32px;
    --space-10: 40px;
    --space-12: 48px;
    --space-16: 64px;

    /* ========================================
       4. 圆角系统 (Border Radius)
       ======================================== */
    --radius-xs: 4px;
    --radius-sm: 8px;
    --radius-md: 12px;
    --radius-lg: 16px;
    --radius-xl: 20px;
    --radius-2xl: 24px;
    --radius-full: 9999px;

    /* 消息气泡专用圆角 */
    --bubble-radius: 18px;
    --bubble-radius-sm: 6px;

    /* ========================================
       5. 阴影系统 (Shadows) - 克制使用
       ======================================== */
    --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.2);
    --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.15);
    --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.2);
    --shadow-popup: 0 4px 30px rgba(0, 0, 0, 0.4);

    /* ========================================
       6. 动画系统 (Animation)
       ======================================== */
    --duration-fast: 150ms;
    --duration-normal: 200ms;
    --duration-slow: 300ms;

    --ease-out: cubic-bezier(0.25, 0.46, 0.45, 0.94);
    --ease-in-out: cubic-bezier(0.42, 0, 0.58, 1);
    --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);

    /* ========================================
       7. 玻璃效果 (Glassmorphism) - 适度使用
       ======================================== */
    --glass-bg: rgba(255, 255, 255, 0.05);
    --glass-bg-strong: rgba(255, 255, 255, 0.08);
    --glass-blur: 12px;
    --glass-border: 1px solid rgba(255, 255, 255, 0.08);

    /* ========================================
       8. 渐变 (Gradients)
       ======================================== */
    --gradient-primary: linear-gradient(135deg, var(--tg-blue) 0%, var(--tg-purple) 100%);
    --gradient-purple: linear-gradient(135deg, #766ac8 0%, #8774e1 100%);

    /* ========================================
       9. Z-Index 层级
       ======================================== */
    --z-dropdown: 100;
    --z-sticky: 200;
    --z-modal-backdrop: 290;
    --z-modal: 300;
    --z-tooltip: 400;
    --z-toast: 500;

    /* ========================================
       10. 布局尺寸
       ======================================== */
    --sidebar-width: 360px;
    --sidebar-min: 280px;
    --sidebar-max: 420px;
    --header-height: 56px;
    --input-height: 48px;
    --avatar-sm: 36px;
    --avatar-md: 48px;
    --avatar-lg: 54px;
    --avatar-xl: 120px;

    /* ========================================
       11. Space Feed 专属
       ======================================== */
    --space-timeline-width: 680px;
    --space-card-bg: var(--tg-bg-tertiary);
    --space-card-hover: var(--tg-bg-elevated);
    --space-action-size: 40px;
    --space-action-gap: 24px;
    --space-media-radius: 16px;

    /* ========================================
       12. Telegram 按钮规范 (来自 Web K)
       ======================================== */
    --btn-icon-size: 2.5rem;
    /* 40px */
    --btn-icon-font: 1.5rem;
    /* 24px */
    --btn-icon-padding: 0.5rem;
    /* 8px */
    --btn-corner-size: 3.375rem;
    /* 54px */
    --btn-menu-item-height: 3rem;
    /* 48px */
    --hover-alpha: 0.08;
    /* Telegram 标准悬停透明度 */

    /* Space 导航栏 */
    --space-nav-width: 240px;
    /* 带文字标签的导航栏宽度 */
    --space-nav-item-height: 52px;
    /* 导航项高度 */
    --space-nav-icon-size: 26px;
    /* 导航图标尺寸 */
}

/* ========================================
   全局样式重置
   ======================================== */
*,
*::before,
*::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

html {
    font-size: 16px;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
}

body {
    font-family: var(--font-family);
    font-size: var(--text-base);
    line-height: var(--leading-normal);
    color: var(--tg-text-primary);
    background-color: var(--tg-bg-primary);
}

/* ========================================
   滚动条样式 (Telegram Style)
   ======================================== */
::-webkit-scrollbar {
    width: 6px;
    height: 6px;
}

::-webkit-scrollbar-track {
    background: transparent;
}

::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.2);
    border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.3);
}

/* ========================================
   选中文字样式
   ======================================== */
::selection {
    background: var(--tg-blue-bg);
    color: var(--tg-text-primary);
}

/* ========================================
   焦点样式
   ======================================== */
:focus-visible {
    outline: 2px solid var(--tg-blue);
    outline-offset: 2px;
}

/* ========================================
   链接样式
   ======================================== */
a {
    color: var(--tg-text-link);
    text-decoration: none;
    transition: color var(--duration-fast) var(--ease-out);
}

a:hover {
    color: var(--tg-blue-light);
}

/* ========================================
   动画关键帧
   ======================================== */
@keyframes fadeIn {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(10px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes scaleIn {
    from {
        opacity: 0;
        transform: scale(0.95);
    }

    to {
        opacity: 1;
        transform: scale(1);
    }
}

@keyframes pulse {

    0%,
    100% {
        transform: scale(1);
    }

    50% {
        transform: scale(1.05);
    }
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

/* ========================================
   工具类
   ======================================== */
.text-gradient {
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.animate-fade-in {
    animation: fadeIn var(--duration-normal) var(--ease-out);
}

.animate-slide-up {
    animation: slideUp var(--duration-slow) var(--ease-out);
}

.animate-scale-in {
    animation: scaleIn var(--duration-normal) var(--ease-spring);
}